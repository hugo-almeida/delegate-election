<!doctype html>
<html>
<head>
	<title>Eleição de Delegado de Ano</title>
	<meta charset="UTF-8">
	
	<script src="https://code.jquery.com/jquery-1.11.3.min.js" type="text/javascript"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.16/angular.js" type="text/javascript"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.16/angular-route.min.js" type="text/javascript"></script>
	<script src="js/delegados.js"></script>
	<script src="js/navigationController.js"></script>
	<script src="js/voteController.js"></script>
	<script src="js/applyController.js"></script>

	<link rel="stylesheet" type="text/css" href="webjars/fenixedu-canvas/css/bootstrap.min.css" />
	<link rel="stylesheet" type="text/css" href="webjars/fenixedu-canvas/css/bootstrap-theme.min.css" />
</head>

<body ng-app="delegados" ng-cloak> <!-- cloak b0rken -->
	<div ng-controller="navigationCtrl" class="container">
	
		<ul class="nav nav-tabs pull-right" role="tablist">
			<li ng-hide="authenticated"><a href="login">login</a></li>
			<li ng-show="authenticated && debug"><a href="" ng-click="specialLogin()">Change Info</a></li><!-- debug -->
			<li ng-show="authenticated"><a href="" ng-click="logout()">logout</a></li>
			<input ng-show="authenticated && debug" ng-model="special_username" type="text" value=""><!-- debug -->
		</ul>
		
		<button class="btn btn-default" ng-click="toggleDebug()">Toggle Debug</button><!-- debug -->
		
		<div class="container">	
			<div class="page-header">
				<h1>Eleição de Delegado de Ano</h1>
				<h3>{{subTitle}}</h3>
				<ol class="breadcrumb">
					<li>Estudante</li>
					<li class="active">{{subTitle}}</li>
				</ol>
			</div>
			
			<!-- This needs changing to accomodate students with multiple degrees-->
			
			<div ng-show="authenticated"> <!-- missing student check -->
				
				<button type="btn btn-primary" ng-click="reloadDegrees()" ng-show="debug">Debug reload degrees</button><!-- debug -->

				<div ng-show="degress.length > 1">
					<div class="panel panel-default">
						<div class="panel-heading">Nome</div>
						<div class="table-responsive">
							<table class="table">
								<tr ng-repeat="deg in degrees">
									<td class="col-md-1">
										<input type="radio" ng-model="$parent.selection" value="{{$index}}">
									</td>
									<td>
										<strong>{{deg.name}}</strong>
									</td>
								</tr>
							</table>
						</div>
					</div>
					<button class="btn btn-primary" ng-click="setDegree()">Seleccionar</button> 
				</div>

				<div ng-include="'candidatar.html'" ng-show="degree != null && degree.currentPeriod.type=='APPLICATION'">
				</div>

				<div ng-include="'votar.html'" ng-show="degree != null && degree.currentPeriod.type=='ELECTION'">
				</div>

				<div class="empty" ng-show="degree.currentPeriod.type!='APPLICATION' && degree.currentPeriod.type!='ELECTION'">
					<p>
						<span>
							<i class="glyphicon glyphicon-calendar"></i>
							Não está a decorrer nenhuma eleição.
						</span>
						O próximo período de candidatura ocorre de {{}} a {{}}
					</p>
				</div>
			</div>
		</div>
	</div>
	<script src="webjars/fenixedu-canvas/js/bootstrap.min.js"></script>
</body>
</html>
