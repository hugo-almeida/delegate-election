<div ng-controller="historyCtrl">
	<div>
		<!-- Default panel contents -->
		<h3>Detalhes</h3>
		
		<!-- Table -->
		<table class="table">
			<tr>
				<th class="col-md-2">Curso</th>
				<td class="col-md-10">{{history().degreeName}}</td>
			</tr>
			<tr>
				<th>Ano Lectivo</th>
				<td>{{inspectedPeriod().academicYear}}</td>
			</tr>
			<tr>
				<th>Ano Curricular</th>
				<td>{{history().degreeYear}}</td>
			</tr>
			<tr>
				<th ng-show="inspectedPeriod().periodType=='APPLICATION'">Candidaturas</th>
				<th ng-show="inspectedPeriod().periodType=='ELECTION'">Votação</th>
				<td>{{inspectedPeriod().start}} – {{inspectedPeriod().end}}
					<div ng-show="inspectedPeriod.state == 'ongoing'"> - A decorrer</div>
					<div ng-show="inspectedPeriod.state == 'over'"> - Terminado</div>
				</td>
			</tr>
			<tr>
				<th ng-show="inspectedPeriod().periodType=='APPLICATION'">Candidatos</th>
				<th ng-show="inspectedPeriod().periodType=='ELECTION'">Votos</th>
				<td>{{inspectedPeriod().info}}</td>
			</tr>
		</table>
	</div>
	
	<h3>Candidatos</h3>
	<button class="btn btn-primary">Adicionar</button>
	<div class="empty"><p><i class="glyphicon glyphicon-user"></i><span>Sem candidatos</span></p></div>
	
<!-- 	<div ng-show="candidates.length < 1"> -->
		<div>
		<table class="table table-hover">
			<thead>
			<tr>
				<th class="col-md-6"><strong>Nome</strong></th>
				<th class="col-md-2"><strong>Auto-proposto</strong></th>
				<th><strong>Nº de Votos</strong></th>
			</tr>
		</thead>
			<tbody>
				<tr ng-repeat="candidate in candidates">
					<td><i ng-show="isEmpty(candidate.photo)"  class="glyphicon glyphicon-user"></i><strong>
						<img ng-show="!isEmpty(candidate.photo)"  ng-src="data:{{candidate.photo.type}};base64,{{candidate.photo.data}}" height="28" width="28">
						 {{candidate.name}}</strong><small>{{candidate.username}}</small></td>
					<td>sim</td>
					<td>num votos 
						<span class="pull-right">
							<button class="btn btn-default btn-xs">Atribuir</button>
							<i class="glyphicon glyphicon-check"></i>
						</span>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
	
	<h3>Histórico</h3>
	<div>
		<table class="table table-hover">
			<thead>
			<tr>
				<th class="col-md-3"><strong>Ano-lectivo</strong></th>
				<th class="col-md-2"><strong>Tipo</strong></th>
				<th><strong>Período</strong></th>
			</tr>
		</thead>
			<tbody>
				<tr ng-repeat="period in history().periods">
					<td>{{period.academicYear}}</td>
					<td ng-show="period.periodType=='APPLICATION'">Candidatura</td>
					<td ng-show="period.periodType=='ELECTION'">Votação</td>
					<td>
						<span>
							<button class="btn btn-default btn-xs pull-right" ng-click="inspectPeriod($index)">
								Detalhes
							</button>
						</span>
						{{period.start}} – {{period.end}}
					</td>
				</tr>
			</tbody>
		</table>
	</div>
	
	<button class="btn btn-default" ng-click="hideDetails()">Voltar</button>
</div>